<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>U-Ville</title>
<style>
  body {
    background: url("png/background.png") no-repeat center center;
    background-size: cover;
    background-color: black; /* 余白に色をつけて違和感を減らす */
    font-size: 4rem;
    font-family: "Meiryo", "MS PGothic", "Hiragino Kaku Gothic Pro", sans-serif;
    font-weight: bold;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
  }

  .map-container {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    position: relative;
  }

  .map {
    width: 2000px;
    height: 1200px;
    position: absolute;
    top: 0;
    left: 0;
    transition: transform 1s ease;
  }

  .horse {
    position: absolute;
    width: 350px;              /* ボタンの幅 */
    height: 350px;             /* ボタンの高さ */
    border-radius: 50%;        /* 丸いボタンにする */
    background-image: url("png/horse.png");
    background-size: contain;  /* 画像の比率を保って収める */
    background-repeat: no-repeat;
    border: 10px solid #ffb81e;    /* 枠線 */
    cursor: pointer;
    display: flex;             /* クリック範囲をしっかり確保 */
    align-items: center;       /* 中央寄せ */
    justify-content: center;   /* 中央寄せ */
    background-color: rgb(255, 255, 255);   /* 背景色を設定（任意） */
  }

  .horse:hover {
    transform: scale(1.1);
  }

  .community {
    position: absolute;
    width: 350px;              /* ボタンの幅 */
    height: 350px;             /* ボタンの高さ */
    border-radius: 50%;        /* 丸いボタンにする */
    background-image: url("png/community.png");
    background-size: contain;  /* 画像の比率を保って収める */
    background-repeat: no-repeat;
    border: 10px solid #ffb81e;    /* 枠線 */
    cursor: pointer;
    display: flex;             /* クリック範囲をしっかり確保 */
    align-items: center;       /* 中央寄せ */
    justify-content: center;   /* 中央寄せ */
    background-color: rgb(255, 255, 255);   /* 背景色を設定（任意） */
  }

  .community:hover {
    transform: scale(1.1);
  }

  .shop {
    position: absolute;
    width: 350px;              /* ボタンの幅 */
    height: 350px;             /* ボタンの高さ */
    border-radius: 50%;        /* 丸いボタンにする */
    background-image: url("png/shop.png");
    background-size: contain;  /* 画像の比率を保って収める */
    background-repeat: no-repeat;
    border: 10px solid #ffb81e;    /* 枠線 */
    cursor: pointer;
    display: flex;             /* クリック範囲をしっかり確保 */
    align-items: center;       /* 中央寄せ */
    justify-content: center;   /* 中央寄せ */
    background-color: rgb(255, 255, 255);   /* 背景色を設定（任意） */
  }

  .shop:hover {
    transform: scale(1.1);
  }

  .board {
    position: absolute;
    width: 350px;              /* ボタンの幅 */
    height: 350px;             /* ボタンの高さ */
    border-radius: 50%;        /* 丸いボタンにする */
    background-image: url("png/board.png");
    background-size: contain;  /* 画像の比率を保って収める */
    background-repeat: no-repeat;
    border: 10px solid #ffb81e;    /* 枠線 */
    cursor: pointer;
    display: flex;             /* クリック範囲をしっかり確保 */
    align-items: center;       /* 中央寄せ */
    justify-content: center;   /* 中央寄せ */
    background-color: rgb(255, 255, 255);   /* 背景色を設定（任意） */
  }

  .board:hover {
    transform: scale(1.1);
  }

  .roushi {
    position: absolute;
    width: 200px;              /* ボタンの幅 */
    height: 200px;             /* ボタンの高さ */
    border-radius: 50%;        /* 丸いボタンにする */
    background-image: url("png/roushi.png");
    background-size: contain;  /* 画像の比率を保って収める */
    background-repeat: no-repeat;
    border: 10px solid #ffb81e;    /* 枠線 */
    cursor: pointer;
    display: flex;             /* クリック範囲をしっかり確保 */
    align-items: center;       /* 中央寄せ */
    justify-content: center;   /* 中央寄せ */
    background-color: rgb(255, 255, 255);   /* 背景色を設定（任意） */
    font-size: 3rem;
  }

  .roushi:hover {
    transform: scale(1.1);
  }

  .text_conf {
    position: absolute;
    bottom: 20px;          /* ボタン下部から10px上に表示 */
    width: 100%;
    text-align: center;
    color: rgb(248, 138, 20);
    font-family: "Meiryo", sans-serif;
    font-weight: bold;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.6);
    pointer-events: none;  /* 文字部分をクリックに影響させない */
  }

  .info {
    position: absolute;
    padding: 20px;
    background: rgba(0,0,0,0.8);
    color: white;
    border-radius: 10px;
    display: none;
    width: 250px;
    z-index: 10;
    width: 250px;            /* 幅を少し広く */
    font-size: 1.5rem;       /* 文字サイズを小さめに */
  }

  .close-btn {
    margin-top: 10px;
    display: inline-block;
    padding: 5px 10px;
    background: #e76f51;
    border-radius: 5px;
    cursor: pointer;
  }
</style>
</head>
<body>
<div class="map-container">
  <div class="map" id="map">
    <div class="horse" style="top: 100px; left: 1500px;" data-name="馬小屋" data-desc="ここは馬小屋です。馬と触れ合えます。" data-link="#stables"><div class="text_conf">馬小屋</div></div>
    <div class="community" style="top: 700px; left: 300px;" data-name="交流" data-desc="ここは交流広場です。メンバーと話しましょう。" data-link="#community"><div class="text_conf">交流</div></div>
    <div class="shop" style="top: 200px; left: 200px;" data-name="ショップ" data-desc="ここはショップです。アイテムが買えます。" data-link="#shop"><div class="text_conf">ショップ</div></div>
    <div class="board" style="top: 520px; left: 1050px;" data-name="掲示板" data-desc="掲示板で情報を共有できます。" data-link="#forum"><div class="text_conf">掲示板</div></div>
    <div class="roushi" style="top: 800px; left: 1800px;" data-name="長老の家" data-desc="FAQが見られます。" data-link="#forum"><div class="text_conf">長老の家</div></div>
  </div>
</div>

<div class="info" id="infoBox">
  <h2 id="infoTitle"></h2>
  <p id="infoDesc"></p>
  <a id="infoLink" href="#"><div class="close-btn">ENTER</div></a>
</div>

<script>
  const map = document.getElementById('map');
  const buildings = document.querySelectorAll('.building');
  const horse = document.querySelectorAll('.horse');
  const community = document.querySelectorAll('.community');
  const shop = document.querySelectorAll('.shop');
  const board = document.querySelectorAll('.board');
  const roushi = document.querySelectorAll('.roushi');
  const infoBox = document.getElementById('infoBox');
  const infoTitle = document.getElementById('infoTitle');
  const infoDesc = document.getElementById('infoDesc');
  const infoLink = document.getElementById('infoLink');

  horse.forEach(b => {
    b.addEventListener('click', () => {
      const rect = b.getBoundingClientRect();

      // 吹き出しの位置を建物のすぐ横に
      infoBox.style.left = `${rect.right + 10}px`; 
      infoBox.style.top = `${rect.top}px`;

      infoBox.style.display = 'block';
      infoTitle.textContent = b.dataset.name;
      infoDesc.textContent = b.dataset.desc;
      infoLink.href = b.dataset.link;
    });
  });

  // 閉じる処理
  infoBox.addEventListener('click', e => {
    if (e.target.classList.contains('close-btn')) {
      infoBox.style.display = 'none';
    }
  });

  community.forEach(b => {
    b.addEventListener('click', () => {
      const rect = b.getBoundingClientRect();

      // 吹き出しの位置を建物のすぐ横に
      infoBox.style.left = `${rect.right + 10}px`; 
      infoBox.style.top = `${rect.top}px`;

      infoBox.style.display = 'block';
      infoTitle.textContent = b.dataset.name;
      infoDesc.textContent = b.dataset.desc;
      infoLink.href = b.dataset.link;
    });
  });

  shop.forEach(b => {
    b.addEventListener('click', () => {
      const rect = b.getBoundingClientRect();

      // 吹き出しの位置を建物のすぐ横に
      infoBox.style.left = `${rect.right + 10}px`; 
      infoBox.style.top = `${rect.top}px`;

      infoBox.style.display = 'block';
      infoTitle.textContent = b.dataset.name;
      infoDesc.textContent = b.dataset.desc;
      infoLink.href = b.dataset.link;
    });
  });

  
  board.forEach(b => {
    b.addEventListener('click', () => {
      const rect = b.getBoundingClientRect();

      // 吹き出しの位置を建物のすぐ横に
      infoBox.style.left = `${rect.right + 10}px`; 
      infoBox.style.top = `${rect.top}px`;

      infoBox.style.display = 'block';
      infoTitle.textContent = b.dataset.name;
      infoDesc.textContent = b.dataset.desc;
      infoLink.href = b.dataset.link;
    });
  });

  roushi.forEach(b => {
    b.addEventListener('click', () => {
      const rect = b.getBoundingClientRect();

      // 吹き出しの位置を建物のすぐ横に
      infoBox.style.left = `${rect.right + 10}px`; 
      infoBox.style.top = `${rect.top}px`;

      infoBox.style.display = 'block';
      infoTitle.textContent = b.dataset.name;
      infoDesc.textContent = b.dataset.desc;
      infoLink.href = b.dataset.link;
    });
  });

  infoBox.addEventListener('click', e => {
    if(e.target.classList.contains('close-btn')){
      infoBox.style.display = 'none';
      map.style.transform = 'translate(0, 0) scale(1)';
    }
  });
</script>
</body>
</html>
